Index: app/src/main/java/com/trystar/keepincheck/Worker/BottomNav.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.trystar.keepincheck.Worker;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.trystar.keepincheck.Attendance.ViewAttendance;\r\nimport com.trystar.keepincheck.R;\r\nimport com.trystar.keepincheck.login;\r\nimport com.trystar.keepincheck.mapfiles.LocationHelper;\r\nimport com.trystar.keepincheck.mapfiles.MapsActivity;\r\n\r\npublic class BottomNav extends AppCompatActivity implements BottomNavigationView.OnNavigationItemSelectedListener, LocationListener {\r\n\r\n    BottomNavigationView bottomNavigationView;\r\n    android.os.Handler customHandler = new android.os.Handler();\r\n    Location lastKnownLocation;\r\n    FirebaseUser user;\r\n    String uid;\r\n    JobAssigned firstFragment = new JobAssigned();\r\n    WorkerProfile secondFragment = new WorkerProfile();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_bottom_nav);\r\n\r\n        if (getSupportActionBar() != null) {\r\n            getSupportActionBar().hide();\r\n        }\r\n\r\n        bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this);\r\n        bottomNavigationView.setSelectedItemId(R.id.item3);\r\n\r\n        //For Saving Location in Firebase\r\n        LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED &&\r\n                ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                        != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\r\n        customHandler.postDelayed(updateTimerThread, 0);\r\n        onLocationChanged(lastKnownLocation);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n            case R.id.item3:\r\n                getSupportFragmentManager().beginTransaction().replace(R.id.container, firstFragment).commit();\r\n                return true;\r\n\r\n            case R.id.item1:\r\n                getSupportFragmentManager().beginTransaction().replace(R.id.container, secondFragment).commit();\r\n                return true;\r\n\r\n            case R.id.item2:\r\n                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                if (user != null) {\r\n                    String mobile = user.getPhoneNumber();\r\n                    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n                    db.collection(\"Worker detail\")\r\n                            .whereEqualTo(\"Phone Number\",mobile)\r\n                            .get()\r\n                            .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n                                    if (task.isSuccessful()) {\r\n                                        for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                            String name =document.getString(\"Name\");\r\n                                            Intent intent = new Intent(BottomNav.this, ViewAttendance.class);\r\n                                            intent.putExtra(\"name\",  name);\r\n                                            startActivity(intent);\r\n                                        }\r\n                                    } else {\r\n                                        Toast.makeText(BottomNav.this,\"error\",Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            });\r\n                    Intent intent = new Intent(BottomNav.this, ViewAttendance.class);\r\n                    intent.putExtra(\"mobile\",  mobile);\r\n                    startActivity(intent);\r\n                }\r\n                else {\r\n                    Toast.makeText(BottomNav.this, \"error\", Toast.LENGTH_SHORT).show();\r\n                }\r\n                //getSupportFragmentManager().beginTransaction().replace(R.id.container, firstFragment).commit();\r\n                return true;\r\n\r\n            case R.id.item4:\r\n                startActivity(new Intent(BottomNav.this, MapsActivity.class));\r\n                return true;\r\n\r\n            case R.id.item5:\r\n                FirebaseAuth.getInstance().signOut();\r\n                startActivity(new Intent(BottomNav.this, login.class));\r\n                Toast.makeText(BottomNav.this, \"You have logged out\", Toast.LENGTH_SHORT).show();\r\n                return true;\r\n\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private final Runnable updateTimerThread = new Runnable() {\r\n        public void run() {\r\n            onLocationChanged(lastKnownLocation);\r\n            customHandler.postDelayed(this, 10000);\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    public void onLocationChanged(@NonNull Location location) {\r\n        LocationHelper helper = new LocationHelper(\r\n\r\n                location.getLongitude(), location.getLatitude()\r\n        );\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            uid = user.getPhoneNumber();\r\n        }\r\n        FirebaseDatabase.getInstance().getReference(uid)\r\n                .setValue(helper).addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n\r\n                    } else {\r\n                        Toast.makeText(BottomNav.this, \"Location Not Saved\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                });\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onFlushComplete(int requestCode) {\r\n        LocationListener.super.onFlushComplete(requestCode);\r\n    }\r\n\r\n    @Override\r\n    public void onStatusChanged(String provider, int status, Bundle extras) {\r\n        LocationListener.super.onStatusChanged(provider, status, extras);\r\n    }\r\n\r\n    @Override\r\n    public void onProviderEnabled(@NonNull String provider) {\r\n        LocationListener.super.onProviderEnabled(provider);\r\n    }\r\n\r\n    @Override\r\n    public void onProviderDisabled(@NonNull String provider) {\r\n        LocationListener.super.onProviderDisabled(provider);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/trystar/keepincheck/Worker/BottomNav.java b/app/src/main/java/com/trystar/keepincheck/Worker/BottomNav.java
--- a/app/src/main/java/com/trystar/keepincheck/Worker/BottomNav.java	(revision 0f4a1953ab124bf41d094ab640ee274da900277c)
+++ b/app/src/main/java/com/trystar/keepincheck/Worker/BottomNav.java	(date 1679738339829)
@@ -106,9 +106,6 @@
                                     }
                                 }
                             });
-                    Intent intent = new Intent(BottomNav.this, ViewAttendance.class);
-                    intent.putExtra("mobile",  mobile);
-                    startActivity(intent);
                 }
                 else {
                     Toast.makeText(BottomNav.this, "error", Toast.LENGTH_SHORT).show();
